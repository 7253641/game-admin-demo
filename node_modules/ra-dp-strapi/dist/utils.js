"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * Takes the sort params provided by React admin and 
 * converts them for use by strapi
 * @param {string} sortField 
 * @param {string} sortOrder 
 */
var getSortParams = function getSortParams(sortField, sortOrder) {
    return sortField + ":" + sortOrder.toLowerCase();
};

var getPaginationParams = function getPaginationParams(pagination) {
    // Deconstruct pagination params
    var perPage = pagination.perPage,
        page = pagination.page;


    return {
        _limit: perPage,
        _start: (page - 1) * perPage
    };
};

// TODO: Must implement this function properly
var getFilterParams = function getFilterParams(filter) {
    return filter;
};

/**
 * Gets the react admin params and translates them to 
 * Strapi params object
 * @param {Object} params 
 */
var createGetParams = function createGetParams(params) {
    // Deconstruct to get the params passed
    // from here https://marmelab.com/react-admin/DataProviders.html
    var pagination = params.pagination,
        sort = params.sort,
        filter = params.filter;


    return Object.assign({}, getPaginationParams(pagination), getFilterParams(filter), {
        _sort: getSortParams(sort.field, sort.order)
    });
};
exports.getSortParams = getSortParams;
exports.createGetParams = createGetParams;